import{r as p,u as b,j as e}from"./index-DDtxi5zw.js";import{u as h}from"./index.esm-BUqdZG6_.js";const w=()=>{const{register:t,handleSubmit:o,formState:{errors:s}}=h(),[a,i]=p.useState(null),m=b(),d="https://e-commerce-mern-backend-ls42.onrender.com",l=async c=>{try{const r=await fetch(`${d}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!r.ok)throw new Error("Invalid credentials");const u=await r.json(),{token:x,user:n}=u;if(n.role!=="admin")throw new Error("Access denied. Admins only.");localStorage.setItem("adminToken",x),localStorage.setItem("adminName",n.name),m("/admin/")}catch(r){i(r.message||"An error occurred")}};return e.jsxs("div",{className:"max-w-md mx-auto mt-20 p-6 bg-white shadow-lg rounded-2xl",children:[e.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Admin Login"}),a&&e.jsx("p",{className:"text-red-500 text-center mb-4",children:a}),e.jsxs("form",{onSubmit:o(l),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Email"}),e.jsx("input",{type:"email",...t("email",{required:"Email is required"}),className:"w-full mt-1 px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400"}),s.email&&e.jsx("span",{className:"text-red-500 text-sm",children:s.email?.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Password"}),e.jsx("input",{type:"password",...t("password",{required:"Password is required"}),className:"w-full mt-1 px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-400"}),s.password&&e.jsx("span",{className:"text-red-500 text-sm",children:s.password?.message})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition",children:"Sign In"})]})]})};export{w as default};
